<!DOCTYPE html>
<!--Author: Menelaos Kotsollaris
    Email: menelaos@mkotsollaris.com
    All rights reserved ©-->
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="http://http:www.mkotsollaris.com/pictures/ic_MK.jpeg">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="Menelaos Kotsollaris">
    <link rel="icon" href="../../pictures/ic_MK.jpeg">
    <title>Menelaos Kotsollaris</title>
    <!-- Bootstrap core CSS -->
    <link href="../../dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="../../css/blog.css" rel="stylesheet">
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]>
    <script src="../../js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="../../js/ie-emulation-modes-warning.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
    <![endif]-->
    <script type="text/javascript" src="../../js/Chart.js"></script>
    <script type="text/javascript">
        //TODO create 100% width graph (no slidebar since it won't be contained in the official site)
        function init()
        {
            var ctx = $("#myChart").get(0).getContext("2d");
            var data = {
                labels: ["January", "February", "March", "April", "May", "June", "July"],
                datasets: [
                    {
                        fillColor: "rgba(220,220,220,0.5)",
                        strokeColor: "rgba(220,220,220,1)",
                        pointColor: "rgba(220,220,220,1)",
                        pointStrokeColor: "#fff",
                        data: [65, 59, 90, 81, 56, 55, 40]
                    },
                    {
                        fillColor: "rgba(151,187,205,0.5)",
                        strokeColor: "rgba(151,187,205,1)",
                        pointColor: "rgba(151,187,205,1)",
                        pointStrokeColor: "#fff",
                        data: [28, 48, 40, 19, 96, 27, 100]
                    }
                ]
            };
            var myNewChart = new Chart(ctx).Line(data);
        }

        /**
         * Source: http://mlai-lirik.blogspot.ca/search/label/historical%20data
         * http://stackoverflow.com/a/3412634/1373465
         * Request: http://ichart.finance.yahoo.com/table.csv?s=MSFT&d=3&e=23&f=2015&g=m&a=3&b=12&c=1996&ignore=.csv
         *
         * @param stockID: the stockID (e.g. MSFT for Microsoft)
         * @param startDateDay:
         * @param startDateMonth:
         * @param startDateYear:
         * @param endDateDay:
         * @param endDateMonth:
         * @param endDateYear:
         * @param frequency:
         * */
        function getStockFile(stockID, startDateDay, startDateMonth, startDateYear, frequency, endDateDay, endDateMonth, endDateYear)
        {
            //alert(stockID);
            var domainURL = "http://ichart.finance.yahoo.com/table.csv?";
            var symbolString = "s=" + stockID;
            // We're subtracting 1 from the month because yahoo
            // counts the months from 0 to 11 not from 1 to 12.
            var startDateDayString = "&b=" + startDateDay;
            var startDateMonthString = "&a=" + startDateMonth - 1;
            var startDateYearString = "&c=" + startDateYear;
            var endDateMonthString = "&d=" + endDateMonth;
            var endDateDayString = "&e=" + endDateDay;
            var endDateYearString = "&f=" + endDateYear;
            var frequencyString = "&g=" + frequency;
            var wantedURL = domainURL + symbolString + startDateDayString + startDateMonthString + startDateYearString + endDateMonthString +
                    endDateDayString + endDateYearString + frequencyString + "&ignore=.csv";
            $.post(
                    'ServerComputations.php',
                    {
                        wantedURL: wantedURL
                    },
                    function (data)
                    {
                        alert(JSON.parse(data));
                    });
        }
    </script>
</head>
<body onload="init()">
<div class="blog-masthead">
    <div class="container">
        <nav class="blog-nav">
            <a class="blog-nav-item" href="http://mkotsollaris.com">Home</a>
            <a class="blog-nav-item" href="http://mkotsollaris.com/about">About</a>
            <a class="blog-nav-item" href="http://mkotsollaris.com/contact">Contact</a>
        </nav>
    </div>
</div>
<div class="container">
    <br>
    <div class="row">
        <div class="col-sm-8 blog-main">
            <div class="blog-post">
                <h1 class="blog-post-title">Custom Live Stock Chart - ChartJS</h1>
                <br>

                <p id="demo" onclick='getStockFile("MSFT", "3", "23", "2015", "m", "3", "3", "1996")'>xa</p>
                <canvas id="myChart" width="500" height="400">
                </canvas>
            </div>
        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar" align="center">
            <div class="sidebar-module sidebar-module-inset">
                <h4>Menelaos Kotsollaris</h4>
                <img width="auto" height="160" src="../../pictures/ic_me1.jpg"/>
                <p>Full Stack Software Engineer
                    <br>Hacker & OOP Evangelist
                    <br><br><br>
                    <a href="http://stackexchange.com/users/1458483">
                        <img src="http://stackexchange.com/users/flair/1458483.png" width="208" height="58"
                             alt="profile for Menelaos Kotsollaris on Stack Exchange, a network of free, community-driven Q&amp;A sites"
                             title="profile for Menelaos Kotsollaris on Stack Exchange, a network of free, community-driven Q&amp;A sites">
                    </a>
            </div>
            <div class="sidebar-module">
                <a href="http://stackoverflow.com/users/1373465/menelaos-kotsollaris?tab=profile">
                    <img width="auto" height="40px" src="../../pictures/ic_stackoverflow.png"/>
                </a>
                <a href="https://github.com/mkotsollaris"><img width="auto" height="40px" src="../../pictures/ic_github.png"/></a>
                <a href="https://ca.linkedin.com/pub/menelaos-kotsollaris/7b/6a7/bb9">
                    <img width="auto" height="40px" src="../../pictures/ic_linkedIn.png"/></a>
                <a href="https://plus.google.com/u/0/+MenelaosKotsollaris34/posts">
                    <img width="auto" height="40px" src="../../pictures/ic_gplus.png"/></a>
                <a href="https://twitter.com/mkotsollaris"><img width="auto" height="40px" src="../../pictures/ic_twitter.png"/></a>
                <a href="https://www.youtube.com/channel/UCFfm76gx1mxdbE7tE5X_aWA/videos">
                    <img width="auto" height="40px" src="../../pictures/ic_youtube.png"/></a>
            </div>
        </div><!-- /.blog-sidebar -->
    </div><!-- /.row -->
</div><!-- /.container -->

<footer class="blog-footer">
    <p>Developed by <a href="http://mkotsollaris.com/">Menelaos Kotsollaris</a> - All rights reserved © 2015</p>
</footer>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="../../dist/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../../js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>
